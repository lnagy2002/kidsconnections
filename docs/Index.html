<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Kids' Connections â€” Daily Puzzles</title>
  <style>
    /* ==== styles (shortened explanation) ==== */
    :root {
      --bg: #f7f7fb; --panel: #ffffff; --ink: #0e364b; --ink-muted: #3b5161;
      --muted: #8aa3af; --accent: #2b90d9; --accent-2: #22a699; --accent-3: #f2b705;
      --accent-4: #f25c54; --shadow: 0 6px 16px rgba(0,0,0,0.08); --radius: 14px;
    }
    * { box-sizing: border-box; }
    body { margin:0; font-family:sans-serif; background:#f7f7fb; }
    .app { max-width:960px; margin:auto; background:#fff; padding:20px; border-radius:14px; }
    .grid { display:grid; grid-template-columns:repeat(4,1fr); gap:10px; }
    .card { border:2px solid #ccc; border-radius:10px; padding:12px; text-align:center;
            cursor:pointer; user-select:none; font-weight:bold; }
    .card[aria-pressed="true"] { border-color:#2b90d9; background:#eef6ff; }
    .found-row { margin:5px 0; padding:8px; border-radius:10px; background:#f7fafc; }
    .btn { padding:8px 14px; border-radius:8px; cursor:pointer; border:1px solid #ccc; margin:4px; }
    .btn.primary { background:#0e364b; color:#fff; border:none; }
    .note { font-size:14px; color:#555; margin-top:8px; }
  </style>
</head>
<body>
  <div class="app">
    <h1>ðŸ§  Kidsâ€™ Connections</h1>
    <p>Group 16 tiles into 4 sets of 4.</p>
    <div>
      <label>Level:
        <select id="level">
          <option value="easy">Easy (Grades 2â€“3)</option>
          <option value="medium">Medium (Grades 3â€“4)</option>
          <option value="hard">Hard (Grades 4â€“5)</option>
        </select>
      </label>
    </div>
    <div id="foundContainer"></div>
    <div id="grid" class="grid"></div>
    <div>
      <button id="btnSubmit" class="btn primary">Submit</button>
      <button id="btnShuffle" class="btn">Shuffle</button>
      <button id="btnHint" class="btn">Hint</button>
      <button id="btnReset" class="btn">Start Over</button>
    </div>
    <div class="note">Select 4 tiles, then press Submit.</div>
  </div>

  <script>
  // --- Puzzles ---
  const PUZZLE_BANK = {
    easy: [
      {
        id: "e1",
        groups: [
          { name: "Animals", items: ["Dog","Cat","Cow","Sheep"] },
          { name: "Colors", items: ["Red","Blue","Yellow","Green"] },
          { name: "Fruits", items: ["Apple","Banana","Orange","Grape"] },
          { name: "Shapes", items: ["Circle","Square","Triangle","Rectangle"] }
        ]
      }
    ],
    medium: [
      {
        id: "m1",
        groups: [
          { name: "Seasons", items: ["Winter","Spring","Summer","Fall"] },
          { name: "Transport", items: ["Bike","Bus","Train","Car"] },
          { name: "Space", items: ["Sun","Moon","Star","Planet"] },
          { name: "Clothes", items: ["Sock","Shirt","Pants","Hat"] }
        ]
      }
    ],
    hard: [
      {
        id: "h1",
        groups: [
          { name: "Planets", items: ["Mercury","Venus","Earth","Mars"] },
          { name: "Instruments", items: ["Violin","Piano","Guitar","Drums"] },
          { name: "Big Cats", items: ["Lion","Tiger","Leopard","Cheetah"] },
          { name: "Directions", items: ["North","South","East","West"] }
        ]
      }
    ]
  };

  let state = { level:'easy', selected:new Set(), solved:[], items:[] };

  function init(level){
    state.level = level;
    state.solved = [];
    state.selected = new Set();
    const groups = PUZZLE_BANK[level][0].groups;
    state.items = groups.flatMap(g=>g.items.map(t=>({text:t,group:g.name})));
    state.items.sort(()=>Math.random()-0.5);
    render();
  }

  function render(){
    const grid=document.getElementById("grid");
    grid.innerHTML="";
    state.items.forEach(it=>{
      if(state.solved.some(g=>g.items.includes(it.text))) return;
      const b=document.createElement("button");
      b.className="card";
      b.textContent=it.text;
      b.setAttribute("aria-pressed", state.selected.has(it.text));
      b.onclick=()=>toggle(it.text);
      grid.appendChild(b);
    });
    renderFound();
  }

  function renderFound(){
    const c=document.getElementById("foundContainer");
    c.innerHTML="";
    state.solved.forEach(g=>{
      c.innerHTML+=`<div class="found-row"><strong>${g.groupName}</strong>: ${g.items.join(", ")}</div>`;
    });
  }

  function toggle(t){
    if(state.selected.has(t)) state.selected.delete(t);
    else {
      if(state.selected.size>=4){ alert("Already 4 selected"); return; }
      state.selected.add(t);
    }
    render();
  }

  function submit(){
    if(state.selected.size!==4) return alert("Pick 4 tiles");
    const chosen=Array.from(state.selected);
    const groups=PUZZLE_BANK[state.level][0].groups;
    for(const g of groups){
      if(g.items.every(x=>chosen.includes(x))){
        state.solved.push({groupName:g.name, items:g.items});
        state.selected.clear();
        alert("Correct! Group: "+g.name);
        render();
        if(state.solved.length===4) alert("You won!");
        return;
      }
    }
    alert("Try again!");
    state.selected.clear();
    render();
  }

  document.getElementById("btnSubmit").onclick=submit;
  document.getElementById("btnShuffle").onclick=()=>{state.items.sort(()=>Math.random()-0.5); render();};
  document.getElementById("btnReset").onclick=()=>init(state.level);
  document.getElementById("btnHint").onclick=()=>alert("Look carefully â€” find items that belong together!");
  document.getElementById("level").onchange=(e)=>init(e.target.value);

  init("easy");
  </script>
</body>
</html>
