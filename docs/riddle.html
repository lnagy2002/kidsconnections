<!DOCTYPE html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kids’ Connections — Daily</title>
    <style>
         :root {
            --bg: #0e364b;
            --panel: #0e364b;
            --ink: #a9f4f4;
            --cell: #f0db79;
            --accent1: #3b82f6;
            --accent2: #22a699;
            --accent3: #f2b705;
            --accent4: #f25c54;
            --muted: #f0db79;
            --border: #1b2659;
            --key: #0f1736;
            --key-hover: #141f4a;
        }

        body {
            margin: 0;
            font-family: "Rubik", Trebuchet MS, Lucida Grande, Lucida Sans Unicode, Lucida Sans, Tahoma, sans-serif;
            background: var(--bg);
            color: var(--ink);
        }

        .app {
            margin: 20px auto;
            padding: 20px;
            border-radius: 14px;
            width: min(960px, 96vw);
        }

        .section {
            margin-top: 15px;
            text-align: center;
        }

        h1 {
            margin-bottom: 10px;
            margin-top: 0px;
        }

        .muted {
            color: var(--muted);
            text-align: center;
        }

        .card {
            background-color: #a9f4f4;
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            height: auto;
            min-height: 50px; /* optional baseline height */

            /* Smooth expansion */
            overflow: hidden;
            transition: all 0.3s ease;
            font-size: 16px;
            text-transform: uppercase;
            cursor: pointer;
            font-weight: bold;
            user-select: none;
            margin-top: 10px;
            color:black;
        }

        .btn {
            background: var(--key);
            border: 1px solid var(--border);
            border-radius: 10px;
            padding: 12px 6px;
            font-weight: 400;
            font-size: 16px;
            color: var(--text);
            margin: 5px;
            width: auto;
        }

        .btn.primary {
            background: #05a9ac;
            color: #000;
            border: none;
        }

        .found-row {
            color: #000;
            display: flex;
            align-items: center;
            margin: 6px 0;
            border-radius: 10px;
            padding: 6px;
            height: 100px;
            font-size: 16px;
            background: var(--accent2);
            text-transform: uppercase;
        }

        @keyframes shake {
            10%,
            90% {
                transform: translate3d(-1px, 0, 0);
            }
            20%,
            80% {
                transform: translate3d(2px, 0, 0);
            }
            30%,
            50%,
            70% {
                transform: translate3d(-4px, 0, 0);
            }
            40%,
            60% {
                transform: translate3d(4px, 0, 0);
            }
        }

        @keyframes pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

.pulse {
  animation: pulse 0.6s ease-in-out;
}

        .shake {
            display: inline-block;
            /* so transform applies properly */
            animation: shake 0.5s ease-in-out;
        }

        .found-label {
            text-align: center;
            font-weight: bold;
            margin-right: 10px;
            padding: 4px 8px;
            border-radius: 6px;
        }
        /* .found-items { display:flex; flex:1; gap:6px;} */

        .found-item {
            text-align: center;
            padding: 6px;
            border-radius: 6px;
            background: #f0f0f0;
        }

        .title-block {
            display: flex;
            flex-direction: column;
            /* align-items: center; /* centers both title & date */
            */
        }

        .controls {
            display: flex;
            gap: 12px;
            align-items: center;
            padding: 10px 12px;
        }

        @media (max-width: 600px) {
            .app {
                margin: 10px auto;
                padding: 10px;
            }

            .card {
                padding: 8px;
                height: min(100px, 10vh);
                font-size: 14px;
            }

            .found-row {
                margin: 6px 0;
                border-radius: 10px;
                height: min(100px, 10vh);
                text-transform: uppercase;
            }
        }
        /* .complete-badge { margin-left:10px; font-size:12px; color:#fff; background:green; padding:2px 6px; border-radius:6px;} */
    </style>
</head>

<body>

    <div class="app">
        <section class="panel controls">
            <img src="https://bittobitscom.wordpress.com/wp-content/uploads/2025/08/logo-round-3.png" alt="" height="100px">
            <div class="title-block">
                <h1>Kids’ Riddles</h1>
                <div id="date"></div>
            </div>
        </section>
        <hr>
        <div id="msg" class="section muted" style="margin-left:auto"></div>
        <div id="foundContainer">
        </div>



        <div id="riddleCard" class="card"></div>
        <div class="section">
            <button id="hintBtn"  class="btn primary">Show Hint</button>
            <button id="answerBtn"  class="btn">Show Answer</button>
        </div>

    </div>
    <script>
        const today = new Date();
        const $ = sel => document.querySelector(sel);
        const $$ = sel => Array.from(document.querySelectorAll(sel));
        // Format it as Month Day, Year (e.g., August 20, 2025)
        const options = {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
        };
        const formattedDate = today.toLocaleDateString(undefined, options);

        const mm = String(today.getMonth() + 1).padStart(2, '0'); // Months are 0-based
        const dd = String(today.getDate()).padStart(2, '0');
        const yyyy = today.getFullYear();

        const formattedFileDate = mm + dd + yyyy;
        // Insert into HTML
        document.getElementById("date").textContent = formattedDate;
    </script>
    <script>
        function showMessage(text) {
            document.getElementById("msg").textContent = text;
        }

        let RIDDLES = {
          easy: [
            { q: "What has to be broken before you can use it?", a: "An egg.", hint: "Breakfast item." },
            { q: "I'm tall when I'm young, and short when I'm old. What am I?", a: "A candle.", hint: "It melts." },
            { q: "What gets wetter the more it dries?", a: "A towel.", hint: "After a shower." },
            { q: "What can you catch but not throw?", a: "A cold.", hint: "Achoo!" },
            { q: "What has a neck but no head?", a: "A bottle.", hint: "Holds liquid." },
            { q: "What has keys but can't open locks?", a: "A piano.", hint: "Makes music." },
            { q: "What has four legs but can't walk?", a: "A table.", hint: "In the dining room." },
            { q: "Which month has 28 days?", a: "All of them!", hint: "Trick question." },
            { q: "What has a thumb and four fingers but isn't alive?", a: "A glove.", hint: "Winter wear." },
            { q: "Where do you find cities, streets, and parks but no people?", a: "On a map.", hint: "Paper world." },
          ],
          medium: [
            { q: "I speak without a mouth and hear without ears. What am I?", a: "An echo.", hint: "Canyon shout." },
            { q: "The more you take, the more you leave behind. What am I?", a: "Footsteps.", hint: "Tracks in sand." },
            { q: "What goes up but never comes down?", a: "Your age.", hint: "Birthday truth." },
            { q: "What can travel around the world while staying in a corner?", a: "A stamp.", hint: "On an envelope." },
            { q: "What has many teeth but cannot bite?", a: "A comb.", hint: "Hair helper." },
            { q: "I'm light as a feather, yet the strongest person can't hold me for long. What am I?", a: "Your breath.", hint: "Inhale... exhale." },
            { q: "What begins with T, ends with T, and has T in it?", a: "A teapot.", hint: "Tea time!" },
            { q: "What has one eye but can't see?", a: "A needle.", hint: "Sew it up." },
            { q: "What runs but never walks, has a bed but never sleeps?", a: "A river.", hint: "Banks and currents." },
            { q: "Which building has the most stories?", a: "A library.", hint: "Shhh!" },
          ],
          hard: [
            { q: "I have cities, but no houses; mountains, but no trees; water, but no fish. What am I?", a: "A map.", hint: "Flat world." },
            { q: "What disappears as soon as you say its name?", a: "Silence.", hint: "Hush." },
            { q: "The person who makes it, sells it. The person who buys it never uses it. The person who uses it never knows it. What is it?", a: "A coffin.", hint: "Somber." },
            { q: "What can fill a room but takes up no space?", a: "Light.", hint: "Flip a switch." },
            { q: "What has one head, one foot, and four legs?", a: "A bed.", hint: "Sleepy time." },
            { q: "What occurs once in a minute, twice in a moment, but never in a thousand years?", a: "The letter 'M'.", hint: "Alphabet clue." },
            { q: "Turn me on my side and I am everything. Cut me in half and I am nothing. What am I?", a: "The number 8 (infinity on its side; 0 when split).", hint: "Mathy." },
            { q: "What walks on four legs in the morning, two at noon, and three in the evening?", a: "A human (Sphinx riddle).", hint: "Ages of life." },
            { q: "You see a boat filled with people. It hasn't sunk, but when you look again you don't see a single person on the boat. Why?", a: "They are all married (no single people).", hint: "Wordplay!" },
            { q: "I have keys but no locks, space but no room. You can enter but can't go outside. What am I?", a: "A keyboard.", hint: "Typing..." },
          ],
        };

        function getQueryParam(name) {
            const params = new URLSearchParams(window.location.search);
            return params.get(name); // returns null if not found
        }

        async function loadData() {
            const level = getQueryParam('level')  || 'easy';
            try {
                const res = await fetch('https://lnagy2002.github.io/kidsconnections/data/daily-' + formattedFileDate + ".json"); // <-- your JSON file
                if (!res.ok) throw new Error(`HTTP ${res.status}`);
                // RIDDLES = await res.json();
                renderRiddle (level || "easy"); // render it
            } catch (err) {
                showMessage (`Couldn’t load data: ${err.message}`);
            }
        }

        function renderRiddle(level){
          let item = RIDDLES[level][0];
          showMessage (`• Daily ${level} •`);
          $('#riddleCard').innerHTML = `
            <p>${item.q}</p>
          `;

          $('#foundContainer').innerHTML = `
          <div id="hintBox" class="hint card" style="display:none;">Hint: ${item.hint}</div>
          <div id="answerBox" class="answer card" style="display:none;">Answer: ${item.a}</div>
          `;

          $('#hintBtn').addEventListener('click',function(){
            const el = $('#hintBox');
            el.style.display = (el.style.display === 'none') ? 'block' : 'none';
            el.style.background = "#f0db79";
            el.classList.add('pulse');
            const cleanup = () => el.classList.remove('pulse');
            el.addEventListener('animationend', cleanup, {
                once: true
            }); // fires when CSS animation finishes
            el.addEventListener('animationcancel', cleanup, {
                once: true
            }); // safety if animation is aborted
            $('#hintBtn').textContent = (el.style.display === 'none') ? 'Show Hint' : 'Hide Hint';
          });
          $('#answerBtn').addEventListener('click',function(){
            const el = $('#answerBox');
            el.style.display = (el.style.display === 'none') ? 'block' : 'none';
            el.style.background = "#f2b705";
            el.classList.add('pulse');
            const cleanup = () => el.classList.remove('pulse');
            el.addEventListener('animationend', cleanup, {
                once: true
            }); // fires when CSS animation finishes
            el.addEventListener('animationcancel', cleanup, {
                once: true
            }); // safety if animation is aborted
            $('#answerBtn').textContent = (el.style.display === 'none') ? 'Show Answer' : 'Hide Answer';
          });
        }

    loadData  ();
    </script>
</body>
</html>
